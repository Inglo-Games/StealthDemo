[gd_scene load_steps=19 format=3 uid="uid://dtjygabicoy2"]

[ext_resource type="Material" uid="uid://lk4t7pr3spik" path="res://src/level/concrete_floor.material" id="1_dqfkc"]
[ext_resource type="Script" path="res://src/level/TutorialRoom05.gd" id="1_u7rxx"]
[ext_resource type="Material" uid="uid://n131o6hbuf3i" path="res://src/level/brick_wall.material" id="2_bfq1h"]
[ext_resource type="Texture2D" uid="uid://bh5v3vursrfi7" path="res://assets/textures/Bricks059_1K_Color.jpg" id="3_33p03"]
[ext_resource type="Texture2D" uid="uid://613h0vnrcgl7" path="res://assets/textures/Bricks059_1K_NormalGL.jpg" id="4_lgx32"]
[ext_resource type="Texture2D" uid="uid://dkjrruiu2uht8" path="res://assets/textures/Bricks059_1K_Roughness.jpg" id="5_dm78o"]
[ext_resource type="PackedScene" uid="uid://cf5061yye8rjx" path="res://src/level/LevelExitDoor.tscn" id="6_etbf1"]
[ext_resource type="PackedScene" uid="uid://q1m6ulueifrv" path="res://src/items/Desk.tscn" id="7_sg2my"]
[ext_resource type="PackedScene" uid="uid://da2cq7xi0y6g1" path="res://src/guard/Guard.tscn" id="7_yausu"]
[ext_resource type="PackedScene" uid="uid://bca31hpk1jdsd" path="res://src/player/Player.tscn" id="8_fxuvm"]
[ext_resource type="PackedScene" uid="uid://uscng232c6ft" path="res://src/level/TutorialRoom04.tscn" id="8_t8hn5"]

[sub_resource type="NavigationMesh" id="NavigationMesh_xkwgb"]
vertices = PackedVector3Array(15.3472, 0.48612, -18.005, 15.5972, 0.48612, -16.505, 19.3472, 0.48612, -16.505, 19.3472, 0.48612, -28.005, 9.8472, 0.48612, -16.255, 10.0972, 0.48612, -18.005, 9.5972, 0.48612, -39.255, -0.1528, 0.48612, -39.255, -19.4028, 0.48612, -27.755, -19.4028, 0.48612, -16.255, 10.0972, 0.48612, -18.005, 15.3472, 0.48612, -18.005, 19.3472, 0.48612, -28.005, 19.3472, 0.48612, -39.255, 9.5972, 0.48612, -39.255, -0.1528, 0.48612, -39.255, -9.9028, 0.48612, -39.255, -19.4028, 0.48612, -27.755, -9.9028, 0.48612, -39.255, -19.4028, 0.48612, -39.255, -19.4028, 0.48612, -27.755, 14.3472, 2.23612, -15.755, 14.3472, 2.23612, -16.755, 13.5972, 2.23612, -17.005, 10.8472, 2.23612, -16.755, 10.8472, 2.23612, -15.755, 19.3472, 0.48612, -16.505, 15.5972, 0.48612, -16.505, 15.3472, 0.48612, -14.755, 19.3472, 0.48612, -9.755, 10.0972, 0.48612, -14.755, -19.4028, 0.48612, -2.255, -19.4028, 0.48612, 4.245, 19.3472, 0.48612, -9.755, 15.3472, 0.48612, -14.755, 10.0972, 0.48612, -14.755, 19.3472, 0.48612, -2.755, -19.4028, 0.48612, 32.245, -19.4028, 0.48612, 39.245, -9.9028, 0.48612, 39.245, 9.5972, 0.48612, 39.245, 19.3472, 0.48612, 39.245, 19.3472, 0.48612, 32.245, 10.0972, 0.48612, -14.755, -19.4028, 0.48612, -9.255, -19.4028, 0.48612, -2.255, -19.4028, 0.48612, 25.245, -19.4028, 0.48612, 32.245, -9.9028, 0.48612, 39.245, 9.5972, 0.48612, 39.245, 19.3472, 0.48612, 32.245, 19.3472, 0.48612, 25.245, 19.3472, 0.48612, 4.245, 19.3472, 0.48612, -2.755, 10.0972, 0.48612, -14.755, -19.4028, 0.48612, 18.245, -19.4028, 0.48612, 25.245, -9.9028, 0.48612, 39.245, 9.5972, 0.48612, 39.245, 19.3472, 0.48612, 25.245, 19.3472, 0.48612, 18.245, -0.1528, 0.48612, 39.245, 19.3472, 0.48612, 11.245, 19.3472, 0.48612, 4.245, 10.0972, 0.48612, -14.755, -19.4028, 0.48612, 18.245, -9.9028, 0.48612, 39.245, -0.1528, 0.48612, 39.245, -19.4028, 0.48612, 11.245, -0.1528, 0.48612, 39.245, 19.3472, 0.48612, 18.245, 19.3472, 0.48612, 11.245, 10.0972, 0.48612, -14.755, -19.4028, 0.48612, 4.245, -19.4028, 0.48612, 11.245, 10.0972, 0.48612, -14.755, 9.8472, 0.48612, -16.255, -19.4028, 0.48612, -16.255, -19.4028, 0.48612, -9.255)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(7, 4, 8), PackedInt32Array(8, 4, 9), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(13, 10, 14), PackedInt32Array(17, 16, 15), PackedInt32Array(20, 19, 18), PackedInt32Array(22, 21, 23), PackedInt32Array(23, 21, 24), PackedInt32Array(24, 21, 25), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 29), PackedInt32Array(32, 31, 30), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 36), PackedInt32Array(39, 38, 37), PackedInt32Array(42, 41, 40), PackedInt32Array(45, 44, 43), PackedInt32Array(47, 46, 48), PackedInt32Array(51, 50, 49), PackedInt32Array(54, 53, 52), PackedInt32Array(57, 56, 55), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(64, 63, 62), PackedInt32Array(65, 68, 66), PackedInt32Array(66, 68, 67), PackedInt32Array(71, 70, 72), PackedInt32Array(72, 70, 73), PackedInt32Array(73, 70, 74), PackedInt32Array(74, 70, 69), PackedInt32Array(76, 75, 77), PackedInt32Array(77, 75, 78)]

[sub_resource type="PlaneMesh" id="PlaneMesh_e0n0n"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_8jk27"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="BoxMesh" id="BoxMesh_klqnn"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_3bek3"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ohkot"]
albedo_texture = ExtResource("3_33p03")
roughness_texture = ExtResource("5_dm78o")
normal_enabled = true
normal_texture = ExtResource("4_lgx32")
uv1_scale = Vector3(80, 3, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_c5rup"]
albedo_texture = ExtResource("3_33p03")
roughness_texture = ExtResource("5_dm78o")
normal_enabled = true
normal_texture = ExtResource("4_lgx32")
uv1_scale = Vector3(80, 3, 0)

[node name="TutorialRoom05" type="Node3D"]
script = ExtResource("1_u7rxx")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navmesh = SubResource("NavigationMesh_xkwgb")

[node name="FloorMesh" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 40, 0, 0, 0)
mesh = SubResource("PlaneMesh_e0n0n")
surface_material_override/0 = ExtResource("1_dqfkc")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/FloorMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/FloorMesh/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_8jk27")

[node name="WallMesh01" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(40, 0, 0, 0, 8, 0, 0, 0, 0.01, 0, 4, -40)
mesh = SubResource("BoxMesh_klqnn")
surface_material_override/0 = ExtResource("2_bfq1h")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh01"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh01/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_3bek3")

[node name="WallMesh02" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(40, 0, 0, 0, 8, 0, 0, 0, 0.01, 0, 4, 40)
mesh = SubResource("BoxMesh_klqnn")
surface_material_override/0 = ExtResource("2_bfq1h")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh02"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh02/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_3bek3")

[node name="WallMesh03" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-3.49691e-06, 0, 0.01, 0, 8, 0, -80, 0, -4.37114e-10, -20, 4, 0)
mesh = SubResource("BoxMesh_klqnn")
surface_material_override/0 = SubResource("StandardMaterial3D_ohkot")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh03"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh03/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_3bek3")

[node name="WallMesh04" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-3.49691e-06, 0, 0.01, 0, 8, 0, -80, 0, -4.37114e-10, 20, 4, 0)
mesh = SubResource("BoxMesh_klqnn")
surface_material_override/0 = SubResource("StandardMaterial3D_c5rup")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh04"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh04/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_3bek3")

[node name="LevelExitDoor" parent="NavigationRegion3D" instance=ExtResource("6_etbf1")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -20.0278, 0, 0)
locked = true
open_time = 0.0
unlock_time = 0.0
break_time = -1.0
key_id = "tut03_exit_key"
goto_scene = ExtResource("8_t8hn5")

[node name="desk" parent="NavigationRegion3D" instance=ExtResource("7_sg2my")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 12.7055, 0, -16.4448)
keys_contained = ["tut03_exit_key"]

[node name="Guards" type="Node3D" parent="."]

[node name="Guard" parent="Guards" instance=ExtResource("7_yausu")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 15, 1, -10)
patrol_points = [Vector3(15, 1, -10), Vector3(-10, 1, -10)]

[node name="Player" parent="." instance=ExtResource("8_fxuvm")]
transform = Transform3D(-0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, -0.707107, 13.0053, 1, 33.388)
