[gd_scene load_steps=20 format=3 uid="uid://d2wm0atmimsdc"]

[ext_resource type="Material" uid="uid://lk4t7pr3spik" path="res://src/level/concrete_floor.material" id="1_d3oej"]
[ext_resource type="Script" path="res://src/level/TutorialRoom01.gd" id="1_p8swl"]
[ext_resource type="Material" uid="uid://n131o6hbuf3i" path="res://src/level/brick_wall.material" id="2_r75ys"]
[ext_resource type="PackedScene" uid="uid://cf5061yye8rjx" path="res://src/level/LevelExitDoor.tscn" id="3_isv5c"]
[ext_resource type="PackedScene" uid="uid://bis2j4x36rtsl" path="res://src/level/TutorialRoom02.tscn" id="4_ldolt"]
[ext_resource type="PackedScene" uid="uid://bmeb1m3k3bg0i" path="res://src/items/Safe.tscn" id="6_3xgio"]
[ext_resource type="PackedScene" uid="uid://cr2y66j4j5gmc" path="res://src/items/Dresser.tscn" id="6_5ewef"]
[ext_resource type="PackedScene" uid="uid://bca31hpk1jdsd" path="res://src/player/Player.tscn" id="6_sxgw4"]
[ext_resource type="PackedScene" uid="uid://dl2bru2x6eej6" path="res://src/items/Desk.tscn" id="8_7hn14"]
[ext_resource type="Environment" uid="uid://h1bg78qp0wge" path="res://src/level/tutorial_env.tres" id="10_y8xqp"]

[sub_resource type="PlaneMesh" id="PlaneMesh_p3ni5"]

[sub_resource type="BoxMesh" id="BoxMesh_h0bwg"]
resource_local_to_scene = true
material = ExtResource("2_r75ys")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_uoa5e"]
data = PackedVector3Array(-20, 4, 0.25, 20, 4, 0.25, -20, -4, 0.25, 20, 4, 0.25, 20, -4, 0.25, -20, -4, 0.25, 20, 4, -0.25, -20, 4, -0.25, 20, -4, -0.25, -20, 4, -0.25, -20, -4, -0.25, 20, -4, -0.25, 20, 4, 0.25, 20, 4, -0.25, 20, -4, 0.25, 20, 4, -0.25, 20, -4, -0.25, 20, -4, 0.25, -20, 4, -0.25, -20, 4, 0.25, -20, -4, -0.25, -20, 4, 0.25, -20, -4, 0.25, -20, -4, -0.25, 20, 4, 0.25, -20, 4, 0.25, 20, 4, -0.25, -20, 4, 0.25, -20, 4, -0.25, 20, 4, -0.25, -20, -4, 0.25, 20, -4, 0.25, -20, -4, -0.25, 20, -4, 0.25, 20, -4, -0.25, -20, -4, -0.25)

[sub_resource type="BoxMesh" id="BoxMesh_chxsn"]
resource_local_to_scene = true
material = ExtResource("2_r75ys")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_2xo7l"]
data = PackedVector3Array(-20, 4, 0.25, 20, 4, 0.25, -20, -4, 0.25, 20, 4, 0.25, 20, -4, 0.25, -20, -4, 0.25, 20, 4, -0.25, -20, 4, -0.25, 20, -4, -0.25, -20, 4, -0.25, -20, -4, -0.25, 20, -4, -0.25, 20, 4, 0.25, 20, 4, -0.25, 20, -4, 0.25, 20, 4, -0.25, 20, -4, -0.25, 20, -4, 0.25, -20, 4, -0.25, -20, 4, 0.25, -20, -4, -0.25, -20, 4, 0.25, -20, -4, 0.25, -20, -4, -0.25, 20, 4, 0.25, -20, 4, 0.25, 20, 4, -0.25, -20, 4, 0.25, -20, 4, -0.25, 20, 4, -0.25, -20, -4, 0.25, 20, -4, 0.25, -20, -4, -0.25, 20, -4, 0.25, 20, -4, -0.25, -20, -4, -0.25)

[sub_resource type="BoxMesh" id="BoxMesh_gp8qa"]
resource_local_to_scene = true
material = ExtResource("2_r75ys")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_klb50"]
data = PackedVector3Array(-20, 4, 0.25, 20, 4, 0.25, -20, -4, 0.25, 20, 4, 0.25, 20, -4, 0.25, -20, -4, 0.25, 20, 4, -0.25, -20, 4, -0.25, 20, -4, -0.25, -20, 4, -0.25, -20, -4, -0.25, 20, -4, -0.25, 20, 4, 0.25, 20, 4, -0.25, 20, -4, 0.25, 20, 4, -0.25, 20, -4, -0.25, 20, -4, 0.25, -20, 4, -0.25, -20, 4, 0.25, -20, -4, -0.25, -20, 4, 0.25, -20, -4, 0.25, -20, -4, -0.25, 20, 4, 0.25, -20, 4, 0.25, 20, 4, -0.25, -20, 4, 0.25, -20, 4, -0.25, 20, 4, -0.25, -20, -4, 0.25, 20, -4, 0.25, -20, -4, -0.25, 20, -4, 0.25, 20, -4, -0.25, -20, -4, -0.25)

[sub_resource type="BoxMesh" id="BoxMesh_7cnc5"]
resource_local_to_scene = true
material = ExtResource("2_r75ys")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_3jb2u"]
data = PackedVector3Array(-20, 4, 0.25, 20, 4, 0.25, -20, -4, 0.25, 20, 4, 0.25, 20, -4, 0.25, -20, -4, 0.25, 20, 4, -0.25, -20, 4, -0.25, 20, -4, -0.25, -20, 4, -0.25, -20, -4, -0.25, 20, -4, -0.25, 20, 4, 0.25, 20, 4, -0.25, 20, -4, 0.25, 20, 4, -0.25, 20, -4, -0.25, 20, -4, 0.25, -20, 4, -0.25, -20, 4, 0.25, -20, -4, -0.25, -20, 4, 0.25, -20, -4, 0.25, -20, -4, -0.25, 20, 4, 0.25, -20, 4, 0.25, 20, 4, -0.25, -20, 4, 0.25, -20, 4, -0.25, 20, 4, -0.25, -20, -4, 0.25, 20, -4, 0.25, -20, -4, -0.25, 20, -4, 0.25, 20, -4, -0.25, -20, -4, -0.25)

[node name="TutRoom01" type="Node3D"]
script = ExtResource("1_p8swl")

[node name="RoomGeometry" type="Node3D" parent="."]

[node name="FloorMesh" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, 0, 0, 0)
mesh = SubResource("PlaneMesh_p3ni5")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("1_d3oej")

[node name="WallMesh01" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, -20)
mesh = SubResource("BoxMesh_h0bwg")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh01"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh01/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_uoa5e")

[node name="WallMesh02" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 20)
mesh = SubResource("BoxMesh_chxsn")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh02"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh02/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_2xo7l")

[node name="WallMesh03" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -20, 4, 0)
mesh = SubResource("BoxMesh_gp8qa")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh03"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh03/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_klb50")

[node name="WallMesh04" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 20, 4, 0)
mesh = SubResource("BoxMesh_7cnc5")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh04"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh04/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_3jb2u")

[node name="LevelExitDoor" parent="RoomGeometry" instance=ExtResource("3_isv5c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.70277, 0, -19.8545)
goto_scene = ExtResource("4_ldolt")
locked = true
open_time = 0.0
unlock_time = 0.0
break_time = -1.0
key_id = "Tutorial Exit 1 Key"

[node name="OmniLight3D" type="OmniLight3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 13, 0)
light_energy = 11.591
shadow_enabled = true
omni_range = 40.0

[node name="OmniLight3D2" type="OmniLight3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 13, 0)
light_energy = 11.591
light_indirect_energy = 0.0
shadow_enabled = true
omni_range = 40.0

[node name="RoomItems" type="Node3D" parent="."]

[node name="safe" parent="RoomItems" instance=ExtResource("6_3xgio")]
transform = Transform3D(0.854468, 0, -0.519504, 0, 1, 0, 0.519504, 0, 0.854468, 6.06785, 1, -4.55724)
keys_contained = ["Tutorial Exit 1 Key"]
locked = true
open_time = 2.0
unlock_time = 2.0
break_time = -1.0
key_id = "Tutorial Safe Combo"

[node name="Desk" parent="RoomItems" instance=ExtResource("8_7hn14")]
transform = Transform3D(0.348736, 0, -0.937221, 0, 1, 0, 0.937221, 0, 0.348736, -9.14336, 0, -4.59251)
keys_contained = ["Tutorial Safe Combo"]
locked = true
open_time = 0.0
break_time = 2.0
key_id = "Tutorial Desk Key"

[node name="Dresser" parent="RoomItems" instance=ExtResource("6_5ewef")]
transform = Transform3D(-0.00415385, 0, -0.499983, 0, 0.5, 0, 0.499983, 0, -0.00415385, 0, 1.4798, -6.74904)
items_contained = ["lockpick"]
keys_contained = []
open_time = 0.0

[node name="Player" parent="." instance=ExtResource("6_sxgw4")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -9.39813, 1, 11.4712)

[node name="Guards" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("10_y8xqp")
