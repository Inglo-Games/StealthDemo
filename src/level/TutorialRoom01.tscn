[gd_scene load_steps=15 format=3 uid="uid://djhtiovhfs2oe"]

[ext_resource type="Material" uid="uid://lk4t7pr3spik" path="res://src/level/concrete_floor.material" id="1_d3oej"]
[ext_resource type="Script" path="res://src/level/TutorialRoom01.gd" id="1_p8swl"]
[ext_resource type="Material" uid="uid://n131o6hbuf3i" path="res://src/level/brick_wall.material" id="2_r75ys"]
[ext_resource type="PackedScene" uid="uid://cf5061yye8rjx" path="res://src/level/LevelExitDoor.tscn" id="3_isv5c"]
[ext_resource type="PackedScene" uid="uid://bis2j4x36rtsl" path="res://src/level/TutorialRoom02.tscn" id="4_ldolt"]
[ext_resource type="PackedScene" uid="uid://bmeb1m3k3bg0i" path="res://src/items/Safe.tscn" id="6_3xgio"]
[ext_resource type="PackedScene" uid="uid://dq4lhtdkkcdd" path="res://src/items/Dresser.tscn" id="6_5ewef"]
[ext_resource type="PackedScene" uid="uid://bca31hpk1jdsd" path="res://src/player/Player.tscn" id="6_sxgw4"]
[ext_resource type="PackedScene" uid="uid://q1m6ulueifrv" path="res://src/items/Desk.tscn" id="8_arse7"]
[ext_resource type="Environment" uid="uid://h1bg78qp0wge" path="res://src/level/tutorial_env.tres" id="10_y8xqp"]

[sub_resource type="PlaneMesh" id="PlaneMesh_p3ni5"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5oy4h"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="BoxMesh" id="BoxMesh_lgl7p"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6xpxb"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[node name="TutRoom01" type="Node3D"]
script = ExtResource("1_p8swl")

[node name="RoomGeometry" type="Node3D" parent="."]

[node name="FloorMesh" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, 0, 0, 0)
mesh = SubResource("PlaneMesh_p3ni5")
skeleton = NodePath("")
surface_material_override/0 = ExtResource("1_d3oej")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/FloorMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/FloorMesh/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5oy4h")

[node name="WallMesh01" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(40, 0, 0, 0, 8, 0, 0, 0, 0.05, 0, 4, -20)
mesh = SubResource("BoxMesh_lgl7p")
surface_material_override/0 = ExtResource("2_r75ys")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh01"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh01/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6xpxb")

[node name="WallMesh02" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(40, 0, 0, 0, 8, 0, 0, 0, 0.05, 0, 4, 20)
mesh = SubResource("BoxMesh_lgl7p")
surface_material_override/0 = ExtResource("2_r75ys")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh02"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh02/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6xpxb")

[node name="WallMesh03" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(-1.74846e-06, 0, 0.05, 0, 8, 0, -40, 0, -2.18557e-09, -20, 4, 0)
mesh = SubResource("BoxMesh_lgl7p")
surface_material_override/0 = ExtResource("2_r75ys")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh03"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh03/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6xpxb")

[node name="WallMesh04" type="MeshInstance3D" parent="RoomGeometry"]
transform = Transform3D(-1.74846e-06, 0, 0.05, 0, 8, 0, -40, 0, -2.18557e-09, 20, 4, 0)
mesh = SubResource("BoxMesh_lgl7p")
surface_material_override/0 = ExtResource("2_r75ys")

[node name="StaticBody3D" type="StaticBody3D" parent="RoomGeometry/WallMesh04"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="RoomGeometry/WallMesh04/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_6xpxb")

[node name="LevelExitDoor" parent="RoomGeometry" instance=ExtResource("3_isv5c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.70277, 0, -19.8545)
goto_scene = ExtResource("4_ldolt")
locked = true
open_time = 0.0
unlock_time = 0.0
break_time = -1.0
key_id = "tut01_exit_key"

[node name="SpotLight3D" type="SpotLight3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 6.36372, 15.7459, -11.9537)
light_color = Color(0.968627, 1, 0.894118, 1)
light_energy = 0.549
shadow_enabled = true
spot_range = 36.5736
spot_attenuation = 0.0412346
spot_angle = 47.4063
spot_angle_attenuation = 0.0544094

[node name="SpotLight3D2" type="SpotLight3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7.04119, 15.7459, -1.16347)
light_color = Color(0.968627, 1, 0.894118, 1)
shadow_enabled = true
spot_range = 36.5736
spot_attenuation = 0.0412346
spot_angle = 47.4063
spot_angle_attenuation = 0.0544094

[node name="SpotLight3D3" type="SpotLight3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 10.1466, 15.7459, 7.9163)
light_color = Color(0.968627, 1, 0.894118, 1)
shadow_enabled = true
spot_range = 36.5736
spot_attenuation = 0.0412346
spot_angle = 47.4063
spot_angle_attenuation = 0.0544094

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="RoomGeometry"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 27.2878, 0)
light_energy = 1.234
light_indirect_energy = 3.811
sky_mode = 1

[node name="RoomItems" type="Node3D" parent="."]

[node name="Dresser" parent="RoomItems" instance=ExtResource("6_5ewef")]
transform = Transform3D(-2.18557e-08, 0, -0.5, 0, 0.5, 0, 0.5, 0, -2.18557e-08, -0.981321, 1.4798, -8.22892)
items_contained = ["lockpicks"]
keys_contained = []
open_time = 0.0

[node name="safe" parent="RoomItems" instance=ExtResource("6_3xgio")]
transform = Transform3D(0.854468, 0, -0.519504, 0, 1, 0, 0.519504, 0, 0.854468, 6.06785, 1, -4.55724)
keys_contained = ["tut01_exit_key"]
locked = true
open_time = 2.0
unlock_time = 2.0
break_time = -1.0
key_id = "tut01_safe_key"

[node name="desk" parent="RoomItems" instance=ExtResource("8_arse7")]
transform = Transform3D(0.468053, 0, -0.8837, 0, 1, 0, 0.8837, 0, 0.468053, -9.03803, 0.0138999, -6.73064)
keys_contained = ["tut01_safe_key"]
locked = true
open_time = 0.0
break_time = 2.0
key_id = "tut01_desk_key"

[node name="Player" parent="." instance=ExtResource("6_sxgw4")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -9.39813, 1, 11.4712)

[node name="Guards" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("10_y8xqp")
