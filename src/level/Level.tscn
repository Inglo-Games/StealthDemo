[gd_scene load_steps=10 format=3 uid="uid://dvxy73scdyfr6"]

[ext_resource type="PackedScene" uid="uid://bca31hpk1jdsd" path="res://src/player/Player.tscn" id="1_gdag3"]
[ext_resource type="Environment" uid="uid://bxgph302vgkb6" path="res://default_env.tres" id="2_qv3on"]
[ext_resource type="PackedScene" uid="uid://da2cq7xi0y6g1" path="res://src/guard/Guard.tscn" id="3_cpqiy"]
[ext_resource type="PackedScene" uid="uid://312drldcobx3" path="res://src/items/Safe.tscn" id="4_y1iuk"]

[sub_resource type="PlaneMesh" id="PlaneMesh_hy2ih"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l5eqp"]
albedo_color = Color(0.0392157, 0, 0.203922, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_rj82r"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="Curve3D" id="Curve3D_it88q"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 14.758, 1.23041, 30.7367, 0, 0, 0, 0, 0, 0, 10.5594, 1.06512, 21.7469, 0, 0, 0, 0, 0, 0, 16.1037, 1.06823, 5.6221, 0, 0, 0, 0, 0, 0, 42.4834, 1.04485, 2.7853, 0, 0, 0, 0, 0, 0, 48.4291, 1.16007, 15.9165, 0, 0, 0, 0, 0, 0, 46.1821, 0.952383, 25.5933, 0, 0, 0, 0, 0, 0, 38.7965, 1.03423, 37.6543, 0, 0, 0, 0, 0, 0, 30.119, 1.1231, 42.16, 0, 0, 0, 0, 0, 0, 22.4802, 1.08806, 42.9193, 0, 0, 0, 0, 0, 0, 14.758, 1.23041, 30.7367),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}

[sub_resource type="Curve3D" id="Curve3D_o6n3w"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 36.5461, 0.95788, -30.588, 0, 0, 0, 0, 0, 0, 27.1775, 1.18525, -36.466, 0, 0, 0, 0, 0, 0, 4.40023, 1.18631, -18.5701, 0, 0, 0, 0, 0, 0, 29.7851, 1.06381, -13.5127, 0, 0, 0, 0, 0, 0, 36.5461, 0.95788, -30.588),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}

[node name="Level" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( "2_qv3on" )

[node name="Floor" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
transform = Transform3D(50, 0, 0, 0, 1, 0, 0, 0, 50, 0, 0, 0)
mesh = SubResource( "PlaneMesh_hy2ih" )
surface_material_override/0 = SubResource( "StandardMaterial3D_l5eqp" )

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
transform = Transform3D(50, 0, 0, 0, 1, 0, 0, 0, 50, 0, 0, 0)
shape = SubResource( "ConcavePolygonShape3D_rj82r" )

[node name="Player" parent="." instance=ExtResource( "1_gdag3" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)

[node name="Guards" type="Node3D" parent="."]

[node name="Guard01" parent="Guards" instance=ExtResource( "3_cpqiy" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.6744, 1, 39.3909)
patrol_path = NodePath("../Guard01Path")

[node name="Guard01Path" type="Path3D" parent="Guards"]
curve = SubResource( "Curve3D_it88q" )

[node name="Guard02" parent="Guards" instance=ExtResource( "3_cpqiy" )]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 40, 1, -30)
patrol_path = NodePath("../Guard02Path")

[node name="Guard02Path" type="Path3D" parent="Guards"]
curve = SubResource( "Curve3D_o6n3w" )

[node name="safe00" parent="." instance=ExtResource( "4_y1iuk" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -18.4235)
open_time = 3.0

[node name="safe01" parent="." instance=ExtResource( "4_y1iuk" )]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.5255, 1, -26.1296)
locked = true
unlock_time = 5.0
key_id = "safe01_test_key"
