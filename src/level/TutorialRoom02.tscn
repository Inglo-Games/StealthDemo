[gd_scene load_steps=28 format=3 uid="uid://bh7buurmo625p"]

[ext_resource type="Material" uid="uid://lk4t7pr3spik" path="res://src/level/concrete_floor.material" id="1_3skeo"]
[ext_resource type="Script" path="res://src/level/TutorialRoom02.gd" id="1_8hyk8"]
[ext_resource type="Material" uid="uid://n131o6hbuf3i" path="res://src/level/brick_wall.material" id="2_qw4cd"]
[ext_resource type="Texture2D" uid="uid://bnw4nb66xp5q1" path="res://assets/textures/BrickMaterial_basecolor.png" id="3_gfjno"]
[ext_resource type="Texture2D" uid="uid://buv7k5gp6k1da" path="res://assets/textures/BrickMaterial_ambientocclusion.png" id="4_w8hor"]
[ext_resource type="Texture2D" uid="uid://cgxs8lwko2nso" path="res://assets/textures/BrickMaterial_height.png" id="5_us0pm"]
[ext_resource type="PackedScene" uid="uid://cim0smeqjobbv" path="res://src/guard/Guard.tscn" id="6_41p1c"]
[ext_resource type="Texture2D" uid="uid://b02wd35fgv027" path="res://assets/textures/BrickMaterial_normal.png" id="6_bg3eg"]
[ext_resource type="PackedScene" uid="uid://cf5061yye8rjx" path="res://src/level/LevelExitDoor.tscn" id="6_cpumt"]
[ext_resource type="PackedScene" uid="uid://bca31hpk1jdsd" path="res://src/player/Player.tscn" id="7_5ydux"]
[ext_resource type="PackedScene" uid="uid://0ib0uj1e6uwl" path="res://src/level/TutorialRoom03.tscn" id="7_phbhj"]
[ext_resource type="Texture2D" uid="uid://q6oac64rhpwy" path="res://assets/textures/BrickMaterial_roughness.png" id="7_qllv7"]
[ext_resource type="Environment" uid="uid://h1bg78qp0wge" path="res://src/level/tutorial_env.tres" id="8_2hges"]

[sub_resource type="NavigationMesh" id="NavigationMesh_lypat"]
vertices = PackedVector3Array(14.1811, 0.02, 9.7, 14.1811, 0.02, 11.2, 19.4311, 0.02, 10.95, 13.1811, 0.02, 9.45, 14.1811, 0.02, 9.7, 19.4311, 0.02, 10.95, 19.4311, 0.02, 3.2, -0.0689468, 0.02, -19.3, -19.3189, 0.02, -9.8, -19.3189, 0.02, -0.0499992, -3.31895, 0.02, 19.2, 13.1811, 0.02, 9.45, 19.4311, 0.02, -4.3, 19.4311, 0.02, -11.8, 19.4311, 0.02, -19.3, 9.68105, 0.02, -19.3, -19.3189, 0.02, 9.45, -19.3189, 0.02, 19.2, -11.3189, 0.02, 19.2, 4.68105, 0.02, 19.2, 12.9311, 0.02, 19.2, 13.1811, 0.02, 9.45, -9.81895, 0.02, -19.3, -19.3189, 0.02, -19.3, -19.3189, 0.02, -9.8, 13.1811, 0.02, 9.45, 19.4311, 0.02, 3.2, 19.4311, 0.02, -4.3, 19.4311, 0.02, -4.3, 19.4311, 0.02, -11.8, 9.68105, 0.02, -19.3, -0.0689468, 0.02, -19.3, -19.3189, 0.02, 9.45, -11.3189, 0.02, 19.2, -3.31895, 0.02, 19.2, -19.3189, 0.02, -0.0499992, -3.31895, 0.02, 19.2, 4.68105, 0.02, 19.2, 13.1811, 0.02, 9.45, -0.0689468, 0.02, -19.3, -9.81895, 0.02, -19.3, -19.3189, 0.02, -9.8, 14.1811, 0.02, 11.2, 14.1811, 0.02, 19.2, 19.4311, 0.02, 19.2, 19.4311, 0.02, 10.95)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 12), PackedInt32Array(9, 12, 11), PackedInt32Array(9, 11, 10), PackedInt32Array(15, 14, 13), PackedInt32Array(18, 17, 16), PackedInt32Array(21, 20, 19), PackedInt32Array(24, 23, 22), PackedInt32Array(27, 26, 25), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 31), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(38, 37, 36), PackedInt32Array(41, 40, 39), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45)]
cell_height = 0.01

[sub_resource type="PlaneMesh" id="PlaneMesh_letn0"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_hr0j0"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lkcly"]
resource_local_to_scene = true
albedo_texture = ExtResource("3_gfjno")
roughness_texture = ExtResource("7_qllv7")
normal_enabled = true
normal_texture = ExtResource("6_bg3eg")
ao_enabled = true
ao_texture = ExtResource("4_w8hor")
heightmap_scale = 0.577
heightmap_texture = ExtResource("5_us0pm")
uv1_scale = Vector3(0.2, 0.2, 0.2)
uv1_triplanar = true
distance_fade_max_distance = 15.0

[sub_resource type="BoxMesh" id="BoxMesh_i3em7"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_lkcly")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_2koo6"]
data = PackedVector3Array(-20, 4, 0.05, 20, 4, 0.05, -20, -4, 0.05, 20, 4, 0.05, 20, -4, 0.05, -20, -4, 0.05, 20, 4, -0.05, -20, 4, -0.05, 20, -4, -0.05, -20, 4, -0.05, -20, -4, -0.05, 20, -4, -0.05, 20, 4, 0.05, 20, 4, -0.05, 20, -4, 0.05, 20, 4, -0.05, 20, -4, -0.05, 20, -4, 0.05, -20, 4, -0.05, -20, 4, 0.05, -20, -4, -0.05, -20, 4, 0.05, -20, -4, 0.05, -20, -4, -0.05, 20, 4, 0.05, -20, 4, 0.05, 20, 4, -0.05, -20, 4, 0.05, -20, 4, -0.05, 20, 4, -0.05, -20, -4, 0.05, 20, -4, 0.05, -20, -4, -0.05, 20, -4, 0.05, 20, -4, -0.05, -20, -4, -0.05)

[sub_resource type="BoxMesh" id="BoxMesh_7iyjd"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_lkcly")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_q3d7k"]
data = PackedVector3Array(-20, 4, 0.05, 20, 4, 0.05, -20, -4, 0.05, 20, 4, 0.05, 20, -4, 0.05, -20, -4, 0.05, 20, 4, -0.05, -20, 4, -0.05, 20, -4, -0.05, -20, 4, -0.05, -20, -4, -0.05, 20, -4, -0.05, 20, 4, 0.05, 20, 4, -0.05, 20, -4, 0.05, 20, 4, -0.05, 20, -4, -0.05, 20, -4, 0.05, -20, 4, -0.05, -20, 4, 0.05, -20, -4, -0.05, -20, 4, 0.05, -20, -4, 0.05, -20, -4, -0.05, 20, 4, 0.05, -20, 4, 0.05, 20, 4, -0.05, -20, 4, 0.05, -20, 4, -0.05, 20, 4, -0.05, -20, -4, 0.05, 20, -4, 0.05, -20, -4, -0.05, 20, -4, 0.05, 20, -4, -0.05, -20, -4, -0.05)

[sub_resource type="BoxMesh" id="BoxMesh_n1g7n"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_lkcly")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_2jcri"]
data = PackedVector3Array(-20, 4, 0.05, 20, 4, 0.05, -20, -4, 0.05, 20, 4, 0.05, 20, -4, 0.05, -20, -4, 0.05, 20, 4, -0.05, -20, 4, -0.05, 20, -4, -0.05, -20, 4, -0.05, -20, -4, -0.05, 20, -4, -0.05, 20, 4, 0.05, 20, 4, -0.05, 20, -4, 0.05, 20, 4, -0.05, 20, -4, -0.05, 20, -4, 0.05, -20, 4, -0.05, -20, 4, 0.05, -20, -4, -0.05, -20, 4, 0.05, -20, -4, 0.05, -20, -4, -0.05, 20, 4, 0.05, -20, 4, 0.05, 20, 4, -0.05, -20, 4, 0.05, -20, 4, -0.05, 20, 4, -0.05, -20, -4, 0.05, 20, -4, 0.05, -20, -4, -0.05, 20, -4, 0.05, 20, -4, -0.05, -20, -4, -0.05)

[sub_resource type="BoxMesh" id="BoxMesh_avvk6"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_lkcly")
size = Vector3(40, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_q51i1"]
data = PackedVector3Array(-20, 4, 0.05, 20, 4, 0.05, -20, -4, 0.05, 20, 4, 0.05, 20, -4, 0.05, -20, -4, 0.05, 20, 4, -0.05, -20, 4, -0.05, 20, -4, -0.05, -20, 4, -0.05, -20, -4, -0.05, 20, -4, -0.05, 20, 4, 0.05, 20, 4, -0.05, 20, -4, 0.05, 20, 4, -0.05, 20, -4, -0.05, 20, -4, 0.05, -20, 4, -0.05, -20, 4, 0.05, -20, -4, -0.05, -20, 4, 0.05, -20, -4, 0.05, -20, -4, -0.05, 20, 4, 0.05, -20, 4, 0.05, 20, 4, -0.05, -20, 4, 0.05, -20, 4, -0.05, 20, 4, -0.05, -20, -4, 0.05, 20, -4, 0.05, -20, -4, -0.05, 20, -4, 0.05, 20, -4, -0.05, -20, -4, -0.05)

[sub_resource type="BoxMesh" id="BoxMesh_yvkd8"]
resource_local_to_scene = true
material = ExtResource("2_qw4cd")
size = Vector3(10, 8, 0.1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5smij"]
data = PackedVector3Array(-5, 4, 0.05, 5, 4, 0.05, -5, -4, 0.05, 5, 4, 0.05, 5, -4, 0.05, -5, -4, 0.05, 5, 4, -0.05, -5, 4, -0.05, 5, -4, -0.05, -5, 4, -0.05, -5, -4, -0.05, 5, -4, -0.05, 5, 4, 0.05, 5, 4, -0.05, 5, -4, 0.05, 5, 4, -0.05, 5, -4, -0.05, 5, -4, 0.05, -5, 4, -0.05, -5, 4, 0.05, -5, -4, -0.05, -5, 4, 0.05, -5, -4, 0.05, -5, -4, -0.05, 5, 4, 0.05, -5, 4, 0.05, 5, 4, -0.05, -5, 4, 0.05, -5, 4, -0.05, 5, 4, -0.05, -5, -4, 0.05, 5, -4, 0.05, -5, -4, -0.05, 5, -4, 0.05, 5, -4, -0.05, -5, -4, -0.05)

[node name="TutorialRoom02" type="Node3D"]
script = ExtResource("1_8hyk8")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navmesh = SubResource("NavigationMesh_lypat")

[node name="FloorMesh" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, 0, 0, 0)
mesh = SubResource("PlaneMesh_letn0")
surface_material_override/0 = ExtResource("1_3skeo")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/FloorMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/FloorMesh/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_hr0j0")

[node name="WallMesh01" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, -20)
mesh = SubResource("BoxMesh_i3em7")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh01"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh01/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_2koo6")

[node name="WallMesh02" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 20)
mesh = SubResource("BoxMesh_7iyjd")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh02"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh02/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_q3d7k")

[node name="WallMesh03" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -20, 4, 0)
mesh = SubResource("BoxMesh_n1g7n")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh03"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh03/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_2jcri")

[node name="WallMesh04" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 20, 4, 0)
mesh = SubResource("BoxMesh_avvk6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh04"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh04/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_q51i1")

[node name="WallMesh05" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 13.5, 4, 15)
mesh = SubResource("BoxMesh_yvkd8")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh05"]
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh05/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5smij")

[node name="LevelExitDoor" parent="NavigationRegion3D" instance=ExtResource("6_cpumt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -19.9291, 0, 0)
goto_scene = ExtResource("7_phbhj")

[node name="OmniLight3D" type="OmniLight3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.3169, 10.7542, 7.88539)
light_energy = 11.591
shadow_enabled = true
omni_range = 40.0

[node name="Guards" type="Node3D" parent="."]

[node name="GuardBot" parent="Guards" instance=ExtResource("6_41p1c")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -12, 0, -12)
axis_lock_linear_y = true
axis_lock_angular_x = true
axis_lock_angular_z = true
patrol_points = [Vector3(-12, 0, -12), Vector3(-12, 0, 12), Vector3(9, 0, 12), Vector3(9, 0, -12)]

[node name="Player" parent="." instance=ExtResource("7_5ydux")]
transform = Transform3D(-0.965926, 0, -0.258819, 0, 1, 0, 0.258819, 0, -0.965926, 17.1182, 0.0483161, 17.2437)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("8_2hges")
