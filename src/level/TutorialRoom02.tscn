[gd_scene load_steps=18 format=3 uid="uid://bis2j4x36rtsl"]

[ext_resource type="Material" uid="uid://lk4t7pr3spik" path="res://src/level/concrete_floor.material" id="1_3skeo"]
[ext_resource type="Script" path="res://src/level/TutorialRoom02.gd" id="1_8hyk8"]
[ext_resource type="Material" uid="uid://n131o6hbuf3i" path="res://src/level/brick_wall.material" id="2_qw4cd"]
[ext_resource type="Texture2D" uid="uid://bnw4nb66xp5q1" path="res://assets/textures/BrickMaterial_basecolor.png" id="4_20dnb"]
[ext_resource type="Texture2D" uid="uid://buv7k5gp6k1da" path="res://assets/textures/BrickMaterial_ambientocclusion.png" id="5_dcutf"]
[ext_resource type="PackedScene" uid="uid://da2cq7xi0y6g1" path="res://src/guard/Guard.tscn" id="6_41p1c"]
[ext_resource type="PackedScene" uid="uid://cf5061yye8rjx" path="res://src/level/LevelExitDoor.tscn" id="6_cpumt"]
[ext_resource type="Texture2D" uid="uid://b02wd35fgv027" path="res://assets/textures/BrickMaterial_normal.png" id="6_k0j4g"]
[ext_resource type="PackedScene" uid="uid://bca31hpk1jdsd" path="res://src/player/Player.tscn" id="7_5ydux"]
[ext_resource type="PackedScene" uid="uid://d27db52alnahr" path="res://src/level/TutorialRoom03.tscn" id="7_phbhj"]
[ext_resource type="Texture2D" uid="uid://q6oac64rhpwy" path="res://assets/textures/BrickMaterial_roughness.png" id="7_xsc0f"]

[sub_resource type="NavigationMesh" id="NavigationMesh_lypat"]
vertices = PackedVector3Array(14.245, 0.5, 9.745, 14.245, 0.5, 11.745, 19.245, 0.5, 11.745, 19.245, 0.5, 3.995, -0.00500107, 0.5, -19.255, -9.755, 0.5, -19.255, -19.255, 0.5, -9.755, 13.245, 0.5, 9.495, 14.245, 0.5, 9.745, 19.245, 0.5, 3.995, 19.245, 0.5, -3.755, 19.245, 0.5, -11.505, 19.245, 0.5, -19.255, 9.495, 0.5, -19.255, -19.255, 0.5, 9.495, -19.255, 0.5, 19.245, -11.255, 0.5, 19.245, 4.745, 0.5, 19.245, 12.995, 0.5, 19.245, 13.245, 0.5, 9.495, -9.755, 0.5, -19.255, -19.255, 0.5, -19.255, -19.255, 0.5, -9.755, -0.00500107, 0.5, -19.255, -19.255, 0.5, -9.755, -19.255, 0.5, -0.00499916, -3.255, 0.5, 19.245, 13.245, 0.5, 9.495, 19.245, 0.5, -3.755, 19.245, 0.5, -3.755, 19.245, 0.5, -11.505, 9.495, 0.5, -19.255, -0.00500107, 0.5, -19.255, -19.255, 0.5, 9.495, -11.255, 0.5, 19.245, -3.255, 0.5, 19.245, -19.255, 0.5, -0.00499916, -3.255, 0.5, 19.245, 4.745, 0.5, 19.245, 13.245, 0.5, 9.495, 19.245, 0.5, 11.745, 14.245, 0.5, 11.745, 14.245, 0.5, 19.245, 19.245, 0.5, 19.245)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(13, 12, 11), PackedInt32Array(16, 15, 14), PackedInt32Array(19, 18, 17), PackedInt32Array(22, 21, 20), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 28), PackedInt32Array(25, 28, 27), PackedInt32Array(25, 27, 26), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 32), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 36), PackedInt32Array(39, 38, 37), PackedInt32Array(43, 42, 40), PackedInt32Array(40, 42, 41)]

[sub_resource type="PlaneMesh" id="PlaneMesh_letn0"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_hr0j0"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="BoxMesh" id="BoxMesh_i3em7"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_t424x"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y4v0f"]
albedo_texture = ExtResource("4_20dnb")
roughness_texture = ExtResource("7_xsc0f")
normal_enabled = true
normal_texture = ExtResource("6_k0j4g")
ao_enabled = true
ao_texture = ExtResource("5_dcutf")
uv1_scale = Vector3(2, 2, 2)

[node name="TutorialRoom02" type="Node3D"]
script = ExtResource("1_8hyk8")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navmesh = SubResource("NavigationMesh_lypat")

[node name="FloorMesh" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, 0, 0, 0)
mesh = SubResource("PlaneMesh_letn0")
surface_material_override/0 = ExtResource("1_3skeo")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/FloorMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/FloorMesh/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_hr0j0")

[node name="WallMesh01" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(40, 0, 0, 0, 8, 0, 0, 0, 0.01, 0, 4, -20)
mesh = SubResource("BoxMesh_i3em7")
surface_material_override/0 = ExtResource("2_qw4cd")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh01"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh01/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_t424x")

[node name="WallMesh02" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(40, 0, 0, 0, 8, 0, 0, 0, 0.01, 0, 4, 20)
mesh = SubResource("BoxMesh_i3em7")
surface_material_override/0 = ExtResource("2_qw4cd")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh02"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh02/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_t424x")

[node name="WallMesh03" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-1.74846e-06, 0, 0.01, 0, 8, 0, -40, 0, -4.37114e-10, -20, 4, 0)
mesh = SubResource("BoxMesh_i3em7")
surface_material_override/0 = ExtResource("2_qw4cd")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh03"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh03/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_t424x")

[node name="WallMesh04" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-1.74846e-06, 0, 0.01, 0, 8, 0, -40, 0, -4.37114e-10, 20, 4, 0)
mesh = SubResource("BoxMesh_i3em7")
surface_material_override/0 = ExtResource("2_qw4cd")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh04"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh04/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_t424x")

[node name="WallMesh05" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-07, 0, 0.01, 0, 8, 0, -10, 0, -4.37114e-10, 13.5, 4, 15)
mesh = SubResource("BoxMesh_i3em7")
surface_material_override/0 = SubResource("StandardMaterial3D_y4v0f")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/WallMesh05"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/WallMesh05/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_t424x")

[node name="LevelExitDoor" parent="NavigationRegion3D" instance=ExtResource("6_cpumt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -20.0278, 0, 0)
goto_scene = ExtResource("7_phbhj")

[node name="Guards" type="Node3D" parent="."]

[node name="Guard" parent="Guards" instance=ExtResource("6_41p1c")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -12, 1, -12)
patrol_points = [Vector3(-12, 1, -12), Vector3(-12, 1, 12), Vector3(9, 1, 12), Vector3(9, 1, -12)]

[node name="Player" parent="." instance=ExtResource("7_5ydux")]
transform = Transform3D(-0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, -0.707107, 17.1182, 1, 17.2437)
